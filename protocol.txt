Control Protocol (TCP)

  Between user and realm server (port X). Handles action requests (sent by user) and
  responses (sent by realm).

  Request Format

    Byte       Data
    0-1        16-bit op code
    4-4+N-1    request data (op code -> format/encoding)

  Response Format

    Byte       Data
    0 - 1      16-bit response code
    2 - 3      16-bit data length (= N)
    4 - 4+N-1  response data (op code -> format/encoding)

  Multiple requests and/or responses may be sent in a single TCP packet.

  OP CODES
    1 - LOGIN
      selects the active character
    2 - LOGOUT
      deselects the active character

  RESPONSE CODES
    Lowest 2 bits  determine general status, can be checked with code % 4:
    0 - OK
      operation succeeded as normal
    1 - FAILED
      operation failed
    2 - FORBIDDEN
      user does not have permission to perform operation
    3 - ERROR
      an error occurred while processing the operation
  
    Examples:
      4 - LOGIN_SUCCESS
      5 - LOGIN_FAILURE


Event Protocol (TCP)

  Opened by client to realm server (port X+1) after reception of a LOGIN_SUCCESS 
  response in the control stream.
  
  Identification Phase
  
    Client sends 32-byte ID and enters client-listen phase.
  
  Client-Listen Phase
  
    Client listens on socket (or polls it) for event notifications from server.
    No response should be sent for event notifications.
  
  Notification Format
  
    Byte     Data
    0-1      16-bit event code
    2-5      32-bit effected unit ID
    6-7      16-bit data length (= N)
    8-8+N-1  event data (event code -> format/encoding)
  
  Client may ignore combat-related notifications if the unit ID is outside of
  its interest (draw) radius.